id: breema_csv_user
label: User accounts from CSV data dump
migration_tags:
  - Breema CSV
source:
  plugin: csv
  path: public://csv/breema-users.csv
  header_row_count: 0
  keys:
    - email
    - first_name
    - last_name
  column_names:
    0:
      first_name: First Name
    1:
      last_name: Last Name
    2:
      email: Email
    3:
      practitioner: Practitioner
    4:
      self_breema_provisional: Provisional Self-Breema Instructor
    5:
      self_breema_full: Certified Self-Breema Instructor
    6:
      instructor_provisional: Provisional Instructor
    7:
      instructor_full: Full Instructor
process:
  name:
    plugin: concat
    source:
      - first_name
      - last_name
    delimiter: ' '
  mail: email
destination:
  # Here we're saying that each row of data (line from the CSV file) will be
  # used to create a user entity.
  plugin: entity:user
# List any optional or required migration dependencies.
# Requried means that 100% of the content must be migrated
# Optional means that that the other dependency should be run first
# but if there are items from the dependant migration that were not
# successful, it will still run the migration.
migration_dependencies:
  required: {}
  optional: {}
